[debug] [2025-10-05T23:14:05.667Z] ----------------------------------------------------------------------
[debug] [2025-10-05T23:14:05.675Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Samsung\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only storage
[debug] [2025-10-05T23:14:05.676Z] CLI Version:   14.18.0
[debug] [2025-10-05T23:14:05.676Z] Platform:      win32
[debug] [2025-10-05T23:14:05.676Z] Node Version:  v22.14.0
[debug] [2025-10-05T23:14:05.676Z] Time:          Mon Oct 06 2025 04:44:05 GMT+0530 (India Standard Time)
[debug] [2025-10-05T23:14:05.676Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-05T23:14:05.876Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-05T23:14:05.877Z] > authorizing via signed-in user (itsskylervikalp@gmail.com)
[debug] [2025-10-05T23:14:05.877Z] [iam] checking project pitchframe-ismail for permissions ["firebase.projects.get","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2025-10-05T23:14:05.879Z] Checked if tokens are valid: false, expires at: 1759706780645
[debug] [2025-10-05T23:14:05.879Z] Checked if tokens are valid: false, expires at: 1759706780645
[debug] [2025-10-05T23:14:05.879Z] > refreshing access token with scopes: []
[debug] [2025-10-05T23:14:05.881Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-10-05T23:14:05.881Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-10-05T23:14:06.158Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-10-05T23:14:06.159Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-10-05T23:14:06.169Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/pitchframe-ismail:testIamPermissions [none]
[debug] [2025-10-05T23:14:06.169Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/pitchframe-ismail:testIamPermissions x-goog-quota-user=projects/pitchframe-ismail
[debug] [2025-10-05T23:14:06.169Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/pitchframe-ismail:testIamPermissions {"permissions":["firebase.projects.get","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-10-05T23:14:07.604Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/pitchframe-ismail:testIamPermissions 200
[debug] [2025-10-05T23:14:07.604Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/pitchframe-ismail:testIamPermissions {"permissions":["firebase.projects.get","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[info] 
[info] === Deploying to 'pitchframe-ismail'...
[info] 
[info] i  deploying storage 
[info] i  storage: ensuring required API firebasestorage.googleapis.com is enabled... 
[debug] [2025-10-05T23:14:07.608Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:07.609Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:07.609Z] >>> [apiv2][query] GET https://firebasestorage.googleapis.com/v1alpha/projects/pitchframe-ismail/defaultBucket [none]
[debug] [2025-10-05T23:14:08.438Z] <<< [apiv2][status] GET https://firebasestorage.googleapis.com/v1alpha/projects/pitchframe-ismail/defaultBucket 200
[debug] [2025-10-05T23:14:08.438Z] <<< [apiv2][body] GET https://firebasestorage.googleapis.com/v1alpha/projects/pitchframe-ismail/defaultBucket {"name":"projects/pitchframe-ismail/defaultBucket","location":"US-CENTRAL1","bucket":{"name":"projects/pitchframe-ismail/buckets/pitchframe-ismail.firebasestorage.app"},"storageClass":"REGIONAL"}
[info] i  firebase.storage: checking storage.rules for compilation errors... 
[debug] [2025-10-05T23:14:08.452Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:08.452Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:08.452Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail:test [none]
[debug] [2025-10-05T23:14:08.452Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail:test [omitted]
[debug] [2025-10-05T23:14:08.879Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail:test 200
[debug] [2025-10-05T23:14:08.879Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail:test {}
[info] +  firebase.storage: rules file storage.rules compiled successfully 
[debug] [2025-10-05T23:14:08.880Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:08.880Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:08.881Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/releases pageSize=10&pageToken=
[debug] [2025-10-05T23:14:09.232Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/releases 200
[debug] [2025-10-05T23:14:09.232Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/releases {"releases":[{"name":"projects/pitchframe-ismail/releases/cloud.firestore","rulesetName":"projects/pitchframe-ismail/rulesets/24830966-1d1a-411e-bafd-77b96e0a6818","createTime":"2025-09-28T20:00:18.949335Z","updateTime":"2025-10-05T20:44:30.385085Z"},{"name":"projects/pitchframe-ismail/releases/firebase.storage/pitchframe-ismail.firebasestorage.app","rulesetName":"projects/pitchframe-ismail/rulesets/128452ba-a602-4e3a-bc04-c7890c2a663f","createTime":"2025-09-28T22:07:46.173564Z","updateTime":"2025-10-05T20:44:29.817873Z"}]}
[debug] [2025-10-05T23:14:09.265Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:09.265Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:09.265Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/rulesets/128452ba-a602-4e3a-bc04-c7890c2a663f [none]
[debug] [2025-10-05T23:14:10.584Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/rulesets/128452ba-a602-4e3a-bc04-c7890c2a663f 200
[debug] [2025-10-05T23:14:10.585Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/rulesets/128452ba-a602-4e3a-bc04-c7890c2a663f [omitted]
[info] i  storage: uploading rules storage.rules... 
[debug] [2025-10-05T23:14:10.587Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:10.587Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:10.587Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/rulesets [none]
[debug] [2025-10-05T23:14:10.588Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/rulesets [omitted]
[debug] [2025-10-05T23:14:12.014Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/rulesets 200
[debug] [2025-10-05T23:14:12.014Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/rulesets {"name":"projects/pitchframe-ismail/rulesets/42161ad7-f05e-42c8-8aa2-306fe2158975","source":{"files":[{"content":"rules_version = '2';\n\nservice firebase.storage {\n  match /b/{bucket}/o {\n    // Helper functions\n    function isAuthenticated() {\n      return request.auth != null;\n    }\n    \n    function isOwner(userId) {\n      return request.auth.uid == userId;\n    }\n    \n    function isValidFileType() {\n      return request.resource.contentType.matches('application/pdf') \n          || request.resource.contentType.matches('application/vnd.openxmlformats-officedocument.presentationml.presentation')\n          || request.resource.contentType.matches('application/vnd.ms-powerpoint');\n    }\n\n    function isValidLinkSubmission() {\n      return request.resource.metadata.isLink == true;\n    }\n\n    // Pitches rules\n    match /pitches/{uid}/{fileName} {\n      allow read: if isAuthenticated() \n                  && (isOwner(uid) || resource.metadata.isPublic == true);\n      allow write: if isAuthenticated() \n                   && isOwner(uid) \n                   && (isValidFileType() || isValidLinkSubmission())\n                   && (isValidLinkSubmission() || request.resource.size < 10 * 1024 * 1024); // 10MB limit for files only\n    }\n\n    // Test folder for Firebase testing\n    match /test/{fileName} {\n      allow read, write: if isAuthenticated();\n    }\n\n    match /{allPaths=**} {\n      allow read, write: if false;  // Secure default rule\n    }\n  }\n}","name":"storage.rules"}]},"createTime":"2025-10-05T23:14:11.508975Z","metadata":{"services":["firebase.storage"]}}
[debug] [2025-10-05T23:14:12.015Z] [rules] created ruleset projects/pitchframe-ismail/rulesets/42161ad7-f05e-42c8-8aa2-306fe2158975
[debug] [2025-10-05T23:14:12.015Z] [rules] releasing firebase.storage/pitchframe-ismail.firebasestorage.app with ruleset projects/pitchframe-ismail/rulesets/42161ad7-f05e-42c8-8aa2-306fe2158975
[debug] [2025-10-05T23:14:12.016Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:12.016Z] Checked if tokens are valid: true, expires at: 1759709645160
[debug] [2025-10-05T23:14:12.016Z] >>> [apiv2][query] PATCH https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/releases/firebase.storage/pitchframe-ismail.firebasestorage.app [none]
[debug] [2025-10-05T23:14:12.017Z] >>> [apiv2][body] PATCH https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/releases/firebase.storage/pitchframe-ismail.firebasestorage.app {"release":{"name":"projects/pitchframe-ismail/releases/firebase.storage/pitchframe-ismail.firebasestorage.app","rulesetName":"projects/pitchframe-ismail/rulesets/42161ad7-f05e-42c8-8aa2-306fe2158975"}}
[debug] [2025-10-05T23:14:13.445Z] <<< [apiv2][status] PATCH https://firebaserules.googleapis.com/v1/projects/pitchframe-ismail/releases/firebase.storage/pitchframe-ismail.firebasestorage.app 200
